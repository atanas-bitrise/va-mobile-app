"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6152],{18687:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var i=a(87462),n=(a(67294),a(3905));a(8209);const o={title:"Push Notifications"},r=void 0,s={unversionedId:"Engineering/BackEnd/Features/PushNotifications",id:"Engineering/BackEnd/Features/PushNotifications",title:"Push Notifications",description:"Architectural Overview",source:"@site/docs/Engineering/BackEnd/Features/PushNotifications.md",sourceDirName:"Engineering/BackEnd/Features",slug:"/Engineering/BackEnd/Features/PushNotifications",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Features/PushNotifications",draft:!1,tags:[],version:"current",frontMatter:{title:"Push Notifications"},sidebar:"tutorialSidebar",previous:{title:"Maintenance Windows",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Features/MaintenanceWindows"},next:{title:"Schema Contract Testing",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Features/SchemaContractTesting"}},p={},l=[{value:"Architectural Overview",id:"architectural-overview",level:2},{value:"Getting Your Push In The App",id:"getting-your-push-in-the-app",level:2},{value:"Example push template content",id:"example-push-template-content",level:3}],c={toc:l},u="wrapper";function d(t){let{components:e,...o}=t;return(0,n.kt)(u,(0,i.Z)({},c,o,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"architectural-overview"},"Architectural Overview"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"FLow diagram for how push notification get to the app from the Vetext service",src:a(70153).Z,width:"1280",height:"666"})),(0,n.kt)("h2",{id:"getting-your-push-in-the-app"},"Getting Your Push In The App"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Contact VANotify and VEText to get onboarded to their API and get a push template created. Reach out in slack: ",(0,n.kt)("a",{parentName:"li",href:"https://dsva.slack.com/archives/C01CSM3EZGT"},"#va-notify-public")," or by emailing ",(0,n.kt)("a",{parentName:"li",href:"mailto:oitoctovanotify@va.gov"},"oitoctovanotify@va.gov")),(0,n.kt)("li",{parentName:"ol"},"Get your push template content approved by the mobile team")),(0,n.kt)("h3",{id:"example-push-template-content"},"Example push template content"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "default": "Appointment Reminder Default",\n  "APNS": {"aps":{"alert": {"title":"VA Appointment Reminder","body":"You have an upcoming VA appointment."}},  "appt":"%APPOINTMENT%"},\n    "APNS_SANDBOX": {"aps":{"alert": {"title":"VA Appointment Reminder","body":"You have an upcoming VA appointment."}},"appt":"%APPOINTMENT%"},\n  "GCM": {"notification": {"title": "VA Appointment Reminder","body":"You have an upcoming VA appointment."},"data": {"appt": "%APPOINTMENT%"}}\n}\n')),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},'The "data" field should include any variable data for the alert title or body, and the necessary metadata from the app to deeplink to the correct location.')),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Connect your system to VANotify API to trigger push and test pre-app triggering in staging. ",(0,n.kt)("a",{parentName:"li",href:"https://notifications.va.gov/"},"General VANotify Docs")),(0,n.kt)("li",{parentName:"ol"},"Get access to testflight app from mobile team to test notifications and notification preferences in staging. ",(0,n.kt)("a",{parentName:"li",href:"/va-mobile-app/docs/QA/QualityAssuranceProcess/Resources#testflight--apptester"},"Testflight & App Tester")),(0,n.kt)("li",{parentName:"ol"},"Do a Prod test if possible"),(0,n.kt)("li",{parentName:"ol"},"Mobile will update store info to acknowledge new notifications if necessary"),(0,n.kt)("li",{parentName:"ol"},"Go live")))}d.isMDXComponent=!0},70153:(t,e,a)=>{a.d(e,{Z:()=>i});const i=a.p+"assets/images/MobilePush-848d37d3292b0f99f999e8a89b813240.jpg"}}]);