"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8182],{60247:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>g});var r=n(58168),a=(n(96540),n(15680));n(41873);const i={},o="Firebase Signing Keys",s={unversionedId:"Engineering/DevOps/Automation Code Docs/Signing Keys/Firebase",id:"Engineering/DevOps/Automation Code Docs/Signing Keys/Firebase",title:"Firebase Signing Keys",description:"Overview",source:"@site/docs/Engineering/DevOps/Automation Code Docs/Signing Keys/Firebase.md",sourceDirName:"Engineering/DevOps/Automation Code Docs/Signing Keys",slug:"/Engineering/DevOps/Automation Code Docs/Signing Keys/Firebase",permalink:"/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Signing Keys/Firebase",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Apple Signing Keys",permalink:"/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Signing Keys/Apple"},next:{title:"Google Signing Keys",permalink:"/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Signing Keys/Google"}},l={},g=[{value:"Overview",id:"overview",level:2},{value:"Location in the CI",id:"location-in-the-ci",level:2},{value:"ENV Constants for the keys",id:"env-constants-for-the-keys",level:3},{value:"Firebase Cloud Messaging Service Account",id:"firebase-cloud-messaging-service-account",level:3},{value:"More Documentation",id:"more-documentation",level:2}],c={toc:g},p="wrapper";function u(e){let{components:t,...n}=e;return(0,a.yg)(p,(0,r.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"firebase-signing-keys"},"Firebase Signing Keys"),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,"In order to use any of the Firebase plugins in our application we need to include the correct configuration keys in the build. "),(0,a.yg)("p",null,"The current Firebase configuration files can be downloaded from the ",(0,a.yg)("a",{parentName:"p",href:"https://console.firebase.google.com/u/0/project/va-mobile-app/settings/general/android:gov.va.mobileapp"},"project page settings page")),(0,a.yg)("p",null,"If you need to create new keys because they were leaked or for any other reason you will need to follow the ",(0,a.yg)("a",{parentName:"p",href:"https://firebase.google.com/docs/guides?authuser=0"},"Getting Started Menu here"),"."),(0,a.yg)("p",null,"Android QA and other staging versions are distributed with Firebase Distribution and this file is also help in a base64 string in the CI"),(0,a.yg)("h2",{id:"location-in-the-ci"},"Location in the CI"),(0,a.yg)("p",null,"Apple and Android certificates are stored in GitHub as base64 strings that are decoded by the CI when they are needed."),(0,a.yg)("h3",{id:"env-constants-for-the-keys"},"ENV Constants for the keys"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Key Name"),(0,a.yg)("th",{parentName:"tr",align:null},"ENV String"),(0,a.yg)("th",{parentName:"tr",align:null},"Location ENV String"),(0,a.yg)("th",{parentName:"tr",align:null},"Decoded Location"),(0,a.yg)("th",{parentName:"tr",align:null},"CI Command"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Apple Google Services plist"),(0,a.yg)("td",{parentName:"tr",align:null},"IOS_GS_PLIST_BASE64"),(0,a.yg)("td",{parentName:"tr",align:null},"IOS_GS_PLIST_PATH"),(0,a.yg)("td",{parentName:"tr",align:null},"~/project/VAMobile/ios/GoogleService-Info.plist"),(0,a.yg)("td",{parentName:"tr",align:null},"decode_ios_keys")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Android Google Services json"),(0,a.yg)("td",{parentName:"tr",align:null},"GOOGLE_SERVICES_JSON"),(0,a.yg)("td",{parentName:"tr",align:null},"GOOGLE_SERVICES_PATH"),(0,a.yg)("td",{parentName:"tr",align:null},"~/project/VAMobile/android/app/google-services.json"),(0,a.yg)("td",{parentName:"tr",align:null},"decode_android_keys")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Firebase Distribution Key"),(0,a.yg)("td",{parentName:"tr",align:null},"FIREBASE_DIST_FILE_BASE64"),(0,a.yg)("td",{parentName:"tr",align:null},"FIREBASE_DIST_DECODE_PATH"),(0,a.yg)("td",{parentName:"tr",align:null},"~/project/VAMobile/android/keys/firebase-dist.json"),(0,a.yg)("td",{parentName:"tr",align:null},"decode_android_keys")))),(0,a.yg)("h3",{id:"firebase-cloud-messaging-service-account"},"Firebase Cloud Messaging Service Account"),(0,a.yg)("p",null,"Although push notifications (PN) use the VANotify API to deliver PNs to the app, we still need to provide a service account token to verify the messages through ",(0,a.yg)("a",{parentName:"p",href:"https://firebase.google.com/docs/cloud-messaging"},"Firebase Cloud Messaging"),". This token rarely needs to be updated. This private key can be generated through the ",(0,a.yg)("a",{parentName:"p",href:"https://console.firebase.google.com/u/0/project/va-mobile-app/settings/serviceaccounts/adminsdk"},"service account section of the firebase console")," and installed in Amazon Web Services (AWS). ",(0,a.yg)("a",{parentName:"p",href:"https://docs.aws.amazon.com/sns/latest/dg/sns-fcm-authentication-methods.html"},"Read AWS messaging token installation documentation"),"."),(0,a.yg)("h2",{id:"more-documentation"},"More Documentation"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://firebase.google.com/docs/cloud-messaging/migrate-v1"},"Cloud messaging documentation")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://firebase.google.com/?authuser=0"},"Firebase Documentation Site")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://firebase.google.com/products/app-distribution?authuser=0"},"Firebase Distribution Documentation"))))}u.isMDXComponent=!0},15680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>y});var r=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),g=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=g(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=g(n),d=a,y=p["".concat(l,".").concat(d)]||p[d]||u[d]||i;return n?r.createElement(y,o(o({ref:t},c),{},{components:n})):r.createElement(y,o({ref:t},c))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,o[1]=s;for(var g=2;g<i;g++)o[g]=n[g];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},41873:(e,t,n)=>{n(96540)}}]);