"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[246],{63576:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>g,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=t(58168),o=(t(96540),t(15680));t(41873);const a={title:"API Tokens"},i=void 0,s={unversionedId:"Engineering/BackEnd/Testing/ApiTokens",id:"Engineering/BackEnd/Testing/ApiTokens",title:"API Tokens",description:"Authorization and token types",source:"@site/docs/Engineering/BackEnd/Testing/ApiTokens.md",sourceDirName:"Engineering/BackEnd/Testing",slug:"/Engineering/BackEnd/Testing/ApiTokens",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Testing/ApiTokens",draft:!1,tags:[],version:"current",frontMatter:{title:"API Tokens"},sidebar:"tutorialSidebar",previous:{title:"Testing",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Testing/"},next:{title:"Postman",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Testing/Postman"}},p={},l=[{value:"Authorization and token types",id:"authorization-and-token-types",level:2},{value:"Fetching API tokens",id:"fetching-api-tokens",level:2},{value:"Working on the token app",id:"working-on-the-token-app",level:2}],c={toc:l},u="wrapper";function g(e){let{components:n,...t}=e;return(0,o.yg)(u,(0,r.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h2",{id:"authorization-and-token-types"},"Authorization and token types"),(0,o.yg)("p",null,"The mobile app currently SIS tokens (short for Sign-In Service). SIS is an in-house VA auth service."),(0,o.yg)("p",null,"SIS tokens are over a thousand characters long."),(0,o.yg)("p",null,"You have to include an additional header when using SIS tokens: ",(0,o.yg)("inlineCode",{parentName:"p"},"Authentication-Method: SIS")),(0,o.yg)("h2",{id:"fetching-api-tokens"},"Fetching API tokens"),(0,o.yg)("p",null,"We host a web app on heroku for fetching api tokens. You can fetch tokens in two ways:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Manual: Go to the ",(0,o.yg)("a",{parentName:"p",href:"https://va-mobile-cutter.herokuapp.com"},"token generator web app")," and log in with a test user. User credentials are in 1Password.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Automated: These requests use basic auth (ask teammates for username and password) and will only work if the test user has previously been logged in via the manual approach and the user's refresh token is still valid. The route for fetching SIS tokens is:"))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"GET https://va-mobile-cutter.herokuapp.com/auth/sis/token/judy.morrison@id.me\n")),(0,o.yg)("h2",{id:"working-on-the-token-app"},"Working on the token app"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://github.com/adhocteam/va-mobile-sampleweb"},"View code for the token fetcher app")," and instructions for development can be found in the README. To work on the app, you will need write access to the repo and admin access to the heroku instance."))}g.isMDXComponent=!0},15680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>h});var r=t(96540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),l=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=l(e.components);return r.createElement(p.Provider,{value:n},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(t),d=o,h=u["".concat(p,".").concat(d)]||u[d]||g[d]||a;return t?r.createElement(h,i(i({ref:n},c),{},{components:t})):r.createElement(h,i({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},41873:(e,n,t)=>{t(96540)}}]);