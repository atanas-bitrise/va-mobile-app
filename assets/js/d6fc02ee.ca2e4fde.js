"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1524],{35475:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var n=a(58168),r=(a(96540),a(15680));a(41873);const s={title:"Detox Best Practices",sidebar_position:2},o="Detox Best Practices",i={unversionedId:"QA/QualityAssuranceProcess/Automation/Detox Best Practices",id:"QA/QualityAssuranceProcess/Automation/Detox Best Practices",title:"Detox Best Practices",description:"This is a set of best practices around creating and maintaining the detox tests.",source:"@site/docs/QA/QualityAssuranceProcess/Automation/Detox Best Practices.md",sourceDirName:"QA/QualityAssuranceProcess/Automation",slug:"/QA/QualityAssuranceProcess/Automation/Detox Best Practices",permalink:"/va-mobile-app/docs/QA/QualityAssuranceProcess/Automation/Detox Best Practices",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Detox Best Practices",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Adding new e2e tests to Availability Framework and Nav",permalink:"/va-mobile-app/docs/QA/QualityAssuranceProcess/Automation/AddingNewFeatures"},next:{title:"Closing bug tickets",permalink:"/va-mobile-app/docs/QA/QualityAssuranceProcess/ClosingBugTickets"}},l={},c=[{value:"Creating/updating detox tests for a new feature",id:"creatingupdating-detox-tests-for-a-new-feature",level:3},{value:"Updating Detox tests for non feature work",id:"updating-detox-tests-for-non-feature-work",level:3},{value:"General Best Practices",id:"general-best-practices",level:3}],u={toc:c},d="wrapper";function p(e){let{components:t,...a}=e;return(0,r.yg)(d,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"detox-best-practices"},"Detox Best Practices"),(0,r.yg)("p",null,"This is a set of best practices around creating and maintaining the detox tests."),(0,r.yg)("h3",{id:"creatingupdating-detox-tests-for-a-new-feature"},"Creating/updating detox tests for a new feature"),(0,r.yg)("p",null,"For any new feature work detox work needs to either be:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Added to the acceptance criteria and done on a per ticket basis"),(0,r.yg)("li",{parentName:"ul"},"Done in a new ticket at the end of the feature that encompasses all the work completed (If a new ticket needs to be made please follow the Engineering best practices for ticket creation.)")),(0,r.yg)("p",null,"The following must be done for all new feature detox work no matter whether you are updating an existing detox test or creating a new one. "),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Ensure that the test encompasses any new changes to the manual release candidate (RC) script and test steps where possible",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Anything that happens outside of the app itself can't be automated with Detox.  In the past this has included stuff like opening and selecting an attachment in messages etc."))),(0,r.yg)("li",{parentName:"ul"},"Inform QA what has been automated.  This allows QA to:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Move the correct manual cases to the automated folder/split a case if needed in testRail"),(0,r.yg)("li",{parentName:"ul"},"Confirm that all test runs for the new automated script can be recorded in TestRail (preferably automatically, but at least manually)"))),(0,r.yg)("li",{parentName:"ul"},"Ensure the new/updating script provides artifacts (where necessary) for success and failure"),(0,r.yg)("li",{parentName:"ul"},"Ensure that the new test has been added to the array/dictionary in the Navigation.e2e and AvailabilityFramework.e2e tests (if needed). How to add new tests can be found ",(0,r.yg)("a",{parentName:"li",href:"/docs/QA/QualityAssuranceProcess/Automation/AddingNewFeatures"},"here")),(0,r.yg)("li",{parentName:"ul"},"Ensure that the test is named for the screen/feature its automating ('Prescriptions', 'HomeScreen', etc.) and that the test has been placed in the e2e folder."),(0,r.yg)("li",{parentName:"ul"},"Ensure that e2e_detox_mapping.yml has been updated to account for any added/deleted files")),(0,r.yg)("h3",{id:"updating-detox-tests-for-non-feature-work"},"Updating Detox tests for non feature work"),(0,r.yg)("p",null,"Detox is currently running on a per PR basis and is running any tests that might be affected with the code change.  The following must be done if any of the detox tests fail:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Update any parts of the detox that were affected by the code change and repush the PR.  This will cause the test to rerun. ",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"If you want to check to see if the detox test works before pushing the PR you can either run the test locally or run the test in github actions using the workflow_dispatch trigger"))),(0,r.yg)("li",{parentName:"ul"},"Ensure that e2e_detox_mapping.yml has been updated to account for any added/deleted files in the PR")),(0,r.yg)("h3",{id:"general-best-practices"},"General Best Practices"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Tests usually follow the same initial format where you import the necessary variables, have a dictionary of any constants, and run a beforeAll statement that navigates to the specific feature in the app"),(0,r.yg)("li",{parentName:"ul"},"Any global functions/constants should be placed in utils.ts.  Utils.ts is also where all the navigation to a specific page functions live."),(0,r.yg)("li",{parentName:"ul"},"Set your demo mode password to '' (null) before running the tests"),(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("inlineCode",{parentName:"li"},"by.id")," in your tests (and add the associated testID to the code) where possible.  This makes the tests less flaky")))}p.isMDXComponent=!0},15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>y});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(a),f=r,y=d["".concat(l,".").concat(f)]||d[f]||p[f]||s;return a?n.createElement(y,o(o({ref:t},u),{},{components:a})):n.createElement(y,o({ref:t},u))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=f;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:r,o[1]=i;for(var c=2;c<s;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},41873:(e,t,a)=>{a(96540)}}]);